local player = game.Players.LocalPlayer

local rareFruits = {
    "DarkXQuake", "DragonV2", "DoughV2", "Nika", "LeopardV2",
    "Ope", "Okuchi", "Soul", "Lightning", "Chop"
}

local function isRare(fruitName)
    for _, v in ipairs(rareFruits) do
        if string.lower(v) == string.lower(fruitName) then
            return true
        end
    end
    return false
end

local currentSlot = 1
local maxSlot = 4
local autoSpin = true

local function getEquippedFruit()
    local slot = player:FindFirstChild("MAIN_DATA") and player.MAIN_DATA.Slots[tostring(currentSlot)]
    return slot and slot.Value or nil
end

while autoSpin do
    local equipped = getEquippedFruit()
    print("Slot", currentSlot, "c·∫ßm:", equipped)

    if equipped and isRare(equipped) then
        print("G·∫∑p tr√°i hi·∫øm:", equipped)

        -- ‚úÖ Hi·ªÉn th·ªã th√¥ng b√°o l√™n m√†n h√¨nh
        pcall(function()
            game.StarterGui:SetCore("SendNotification", {
                Title = "üéâ TR√ÅI HI·∫æM!",
                Text = player.DisplayName .. " quay ƒë∆∞·ª£c: " .. equipped,
                Duration = 7,
                Icon = "rbxassetid://138706932256796"
            })
        end)

        if currentSlot < maxSlot then
            currentSlot += 1
            Replicator:InvokeServer("FruitsHandler", "SwitchSlot", {Slot = currentSlot})
            task.wait(1.5)
        else
            print("D·ª´ng spin, h·∫øt slot")
            autoSpin = false
            break
        end
    else
        print("Spin ti·∫øp...")
        Replicator:InvokeServer("FruitsHandler", "Spin", {})
        task.wait(2.5)
    end

    task.wait(1)
end
