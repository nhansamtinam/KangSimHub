local rareFruits = {
    "DarkXQuake", "DragonV2", "DoughV2", "Nika", "LeopardV2",
    "Ope", "Okuchi", "Soul", "Lightning","Chop"
}

local function isRare(fruitName)
    for _, v in ipairs(rareFruits) do
        if string.lower(v) == string.lower(fruitName) then
            return true
        end
    end
    return false
end

local player = game.Players.LocalPlayer
local currentSlot = 1
local maxSlot = 4
local autoSpin = true

local function getEquippedFruit()
    local slot = player:FindFirstChild("MAIN_DATA") and player.MAIN_DATA.Slots[tostring(currentSlot)]
    return slot and slot.Value or nil
end

while autoSpin do
    local equipped = getEquippedFruit()
    print("Slot", currentSlot, "cáº§m:", equipped)
    
    if equipped and isRare(equipped) then
        print("Gáº·p trÃ¡i hiáº¿m:", equipped)

        -- âœ… Hiá»‡n thÃ´ng bÃ¡o ra mÃ n hÃ¬nh
        pcall(function()
            game.StarterGui:SetCore("SendNotification", {
                Title = "ðŸŽ‰ TrÃ¡i hiáº¿m!",
                Text = player.DisplayName .. " vá»«a quay Ä‘Æ°á»£c: " .. equipped,
                Duration = 6,
                Icon = "rbxassetid://138706932256796"
            })
        end)

        if currentSlot < maxSlot then
            currentSlot += 1
            Replicator:InvokeServer("FruitsHandler", "SwitchSlot", {Slot = currentSlot})
            task.wait(1.5)
        else
            print("Dá»«ng spin, háº¿t slot")
            autoSpin = false
            break
        end
    else
        print("Spin tiáº¿p...")
        Replicator:InvokeServer("FruitsHandler", "Spin", {})
        task.wait(2.5)
    end

    task.wait(1)
end
